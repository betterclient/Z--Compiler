plugins {
    id 'java'
    id "war"
    id "org.teavm" version "0.10.2"
}

group 'io.github.betterclient'
version '1.0'

repositories {
    mavenCentral()
}

dependencies {
    implementation project(":API")

    implementation "org.ow2.asm:asm:9.6"
    implementation "org.ow2.asm:asm-tree:9.6"
    implementation teavm.libs.jsoApis
}

teavm.js {
    addedToWebApp = true
    mainClass = "io.github.betterclient.compiler.CompilerMain"

    targetFileName = "compiler.js"
    obfuscated = true
    //sourceMap.set(true)
    //debugInformation.set(true)
    debugInformation.set(true)
}

sourceCompatibility = targetCompatibility = JavaVersion.VERSION_21